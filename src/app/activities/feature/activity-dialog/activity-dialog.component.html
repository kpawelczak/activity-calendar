<h2 class="selected-activity-form-title">{{getFormTypeText()}} activity</h2>

<form [formGroup]="form">

	<mat-form-field class="example-form-field">

		<mat-label>Activity</mat-label>
		<input matInput type="text" formControlName="name">

		<button *ngIf="hasValue('name')"
				type="button"
				(click)="clearFormItem('name')"
				mat-button matSuffix mat-icon-button aria-label="Clear">
			<mat-icon>close</mat-icon>
		</button>

	</mat-form-field>

	<div *ngIf="getFormEntries()"
		 formArrayName="entries">

		<div *ngFor="let item of getFormEntries().controls; let i = index"
			 [formGroupName]="i">

			<mat-form-field>

				<mat-label>Unit</mat-label>

				<mat-select [formControlName]="'unit'">
					<mat-option *ngFor="let unit of units"
								[value]="unit">
						{{unit}}
					</mat-option>
				</mat-select>

<!--				<button *ngIf="hasValue(i.toString())"-->
<!--						type="button"-->
<!--						(click)="clearFormItem(i.toString())"-->
<!--						mat-button matSuffix mat-icon-button aria-label="Clear">-->
<!--					<mat-icon>close</mat-icon>-->
<!--				</button>-->

			</mat-form-field>

			<mat-form-field>

				<mat-label>Value</mat-label>
				<input matInput type="text" [formControlName]="'value'">

<!--				<button *ngIf="hasValue('value')"-->
<!--						type="button"-->
<!--						(click)="clearFormItem('value')"-->
<!--						mat-button matSuffix mat-icon-button aria-label="Clear">-->
<!--					<mat-icon>close</mat-icon>-->
<!--				</button>-->

			</mat-form-field>

		</div>

	</div>

	<div class="ac-selected-activity-form-buttons">
		<button mat-button
				[type]="'button'"
				(click)="closeDialog()">
			Cancel
		</button>

		<ac-button [loading]="loading"
				   [type]="'submit'"
				   (click)="manageActivity()">
			{{getFormTypeText()}}
		</ac-button>
	</div>

</form>
